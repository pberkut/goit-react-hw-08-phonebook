"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[226],{226:function(n,e,t){t.r(e),t.d(e,{default:function(){return pn}});var r,i,a,o,s,c,l,u,d,x,p,m,h,f,b,g,j,Z,y=t(2791),v=t(9434),P=t(6916),w=function(n){return n.contacts.items},k=function(n){return n.contacts.isLoading},C=function(n){return n.contacts.error},z=function(n){return n.filter},N=(0,P.P1)([w,z],(function(n,e){return function(n,e){return n.filter((function(n){return[n.name.toLowerCase(),n.number].join(" ").includes(e.toLowerCase().trim())}))}(n,e)})),_=t(3634),q=t(168),F=t(6444),A=F.ZP.div(r||(r=(0,q.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 40px;\n"]))),E=t(184),S=function(n){var e=n.children;return(0,E.jsx)(A,{children:e})},L=F.ZP.h2(i||(i=(0,q.Z)(["\n  font-size: 18px;\n  text-align: center;\n"]))),M=F.ZP.div(a||(a=(0,q.Z)(["\n  width: 450px;\n  padding: 10px;\n  border: 1px solid lightgrey;\n  background-color: #ffffe6;\n  :last-of-type {\n    min-height: 200px;\n  }\n"]))),I=function(n){var e=n.title,t=n.children;return(0,E.jsxs)(M,{children:[e&&(0,E.jsx)(L,{children:e}),t]})},R=t(5705),K=t(6727),B=(0,F.ZP)(R.l0)(o||(o=(0,q.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),D=(0,F.ZP)(R.Bc)(s||(s=(0,q.Z)(["\n  font-size: 11px;\n  color: red;\n"]))),J=F.ZP.label(c||(c=(0,q.Z)(["\n  display: flex;\n  flex-direction: column;\n  height: 60px;\n  font-size: 14px;\n  font-weight: 600;\n"]))),G=(0,F.ZP)(R.gN)(l||(l=(0,q.Z)(["\n  display: block;\n  text-align: center;\n  margin-left: 20px;\n  margin-right: 20px;\n"]))),H=F.ZP.button(u||(u=(0,q.Z)(["\n  /* margin-top: 8px; */\n"]))),T=t(1686),V={name:"",number:""},$=K.Ry().shape({name:K.Z_().min(3,"Must be 3 characters or more").max(50,"Must be 50 characters or less").required("Required"),number:K.Z_().min(5,"Must be 5 characters or more").max(30,"Must be 30 characters or less").required("Required")}),O=function(){var n=(0,v.I0)(),e=(0,v.v9)(w);return(0,E.jsx)(R.J9,{initialValues:V,validationSchema:$,onSubmit:function(t,r){var i=t.name,a=t.number,o=e.some((function(n){return n.name.toLowerCase()===i.toLowerCase()})),s=e.some((function(n){return n.number===a}));return o?T.Notify.failure("Contact ".concat(i," is already in contacts.")):s?T.Notify.failure("Number ".concat(a," is already in contacts.")):(n((0,_.uK)({name:i,number:a})),T.Notify.info("".concat(i," added to your Phonebook")),void r.resetForm())},children:(0,E.jsxs)(B,{children:[(0,E.jsxs)(J,{children:["Name:",(0,E.jsx)(G,{name:"name",type:"text",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0}),(0,E.jsx)(D,{name:"name",component:"p"})]}),(0,E.jsxs)(J,{children:["Number:",(0,E.jsx)(G,{name:"number",type:"tel",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0}),(0,E.jsx)(D,{name:"number",component:"p"})]}),(0,E.jsx)(H,{type:"submit",children:"Add contact"})]})})},Q=F.ZP.label(d||(d=(0,q.Z)(["\n  display: flex;\n  flex-direction: column;\n  height: 60px;\n  font-size: 14px;\n  font-weight: 600;\n"]))),U=F.ZP.input(x||(x=(0,q.Z)(["\n  margin-left: 20px;\n  margin-right: 20px;\n"]))),W=t(4808),X=function(){var n=(0,v.I0)(),e=(0,v.v9)(z);return(0,E.jsxs)(Q,{children:["Find contacts by name or number:",(0,E.jsx)(U,{type:"text",value:e,title:"Type name or number",onChange:function(e){n((0,W.h)(e.target.value))}})]})},Y=F.ZP.ul(p||(p=(0,q.Z)(["\n  margin-top: 4px;\n"]))),nn=t(9439),en=t(7322),tn=F.ZP.li(m||(m=(0,q.Z)(["\n  display: flex;\n  justify-content: space-between;\n\n  margin-top: 1px;\n  :hover {\n    color: blue;\n  }\n"]))),rn=F.ZP.div(h||(h=(0,q.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n"]))),an=F.ZP.div(f||(f=(0,q.Z)(["\n  display: flex;\n  align-items: flex-start;\n"]))),on=F.ZP.button(b||(b=(0,q.Z)(["\n  /* border: none; */\n  margin: 0;\n  padding: 0;\n  width: auto;\n  overflow: visible;\n  line-height: 0;\n  float: right;\n\n  /* background: transparent; */\n"]))),sn=F.ZP.label(g||(g=(0,q.Z)(["\n  font-size: 10px;\n"]))),cn=F.ZP.input(j||(j=(0,q.Z)(["\n  width: 140px;\n  font-size: 15px;\n"]))),ln=function(n){var e=n.index,t=n.contact,r=(0,v.I0)(),i=(0,y.useState)(t.name),a=(0,nn.Z)(i,2),o=a[0],s=a[1],c=(0,y.useState)(t.number),l=(0,nn.Z)(c,2),u=l[0],d=l[1],x=(0,y.useState)(!1),p=(0,nn.Z)(x,2),m=p[0],h=p[1],f=function(n){var e=n.target,t=e.name,r=e.value;switch(t){case"name":s(r);break;case"number":d(r)}},b=function(){m?(h(!1),r((0,_.mP)({id:t.id,name:o,number:u}))):h(!0)};return(0,E.jsxs)(tn,{children:[(0,E.jsxs)("span",{children:[e+1,"."]}),(0,E.jsx)(rn,{children:m?(0,E.jsxs)("form",{onKeyDown:function(n){"Enter"===n.key&&b()},children:[(0,E.jsxs)(sn,{children:["Name:\xa0",(0,E.jsx)(cn,{name:"name",value:o,onChange:f,title:"Edit name",type:"text"})]}),(0,E.jsxs)(sn,{children:["Number:\xa0",(0,E.jsx)(cn,{name:"number",value:u,onChange:f,title:"Edit phone number",type:"tel"})]})]}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("span",{children:[o," :"]})," \xa0",(0,E.jsx)("span",{children:u})]})}),(0,E.jsxs)(an,{children:[(0,E.jsx)(on,{type:"button",onClick:b,role:"Edit contact",children:m?(0,E.jsx)(en.tfk,{}):(0,E.jsx)(en.zmo,{})}),(0,E.jsx)(on,{type:"button",onClick:function(){r((0,_.GK)(t.id))},role:"Delete contact",children:(0,E.jsx)(en.FH3,{})})]})]})},un=function(){var n=(0,v.v9)(N);return(0,E.jsx)("div",{children:(0,E.jsx)(Y,{children:n.map((function(n,e){return(0,E.jsx)(ln,{contact:n,index:e},n.id)}))})})},dn=F.ZP.div(Z||(Z=(0,q.Z)(["\n  box-shadow: rgba(50, 50, 93, 0.25) 0px 50px 100px -20px,\n    rgba(0, 0, 0, 0.3) 0px 30px 60px -30px,\n    rgba(10, 37, 64, 0.35) 0px -2px 6px 0px inset;\n  padding: 5px;\n  background-color: #fff;\n  border-radius: 8px;\n\n  > * {\n    &:last-child {\n      max-height: 429px;\n      overflow: auto;\n    }\n  }\n"]))),xn=function(n){var e=n.children;return(0,E.jsx)(dn,{children:e})};function pn(){var n=(0,v.I0)(),e=(0,v.v9)(k),t=(0,v.v9)(C);return(0,y.useEffect)((function(){n((0,_.yF)())}),[n]),(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(S,{children:(0,E.jsxs)(xn,{children:[(0,E.jsx)(I,{title:"Phonebook",children:(0,E.jsx)(O,{})}),(0,E.jsx)(I,{title:"Search",children:(0,E.jsx)(X,{})}),(0,E.jsxs)(I,{title:"Contacts",children:[t&&(0,E.jsxs)("b",{children:["Error: ",t]}),e&&(0,E.jsx)("p",{children:"Request in progress..."}),(0,E.jsx)(un,{})]})]})})})}}}]);
//# sourceMappingURL=226.fe75bbd0.chunk.js.map